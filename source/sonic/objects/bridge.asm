; ------------------------------------------------------------------------------
; GameTap 32X
; By Ollie_Ollie_TechDeck
; ------------------------------------------------------------------------------
; Bridge object
; ------------------------------------------------------------------------------

	section m68k_rom_fixed
	include	"source/sonic/shared.inc"

; ------------------------------------------------------------------------------
; Initialization state
; ------------------------------------------------------------------------------

ObjBridge:
	SET_OBJECT_LAYER move.w,6,obj.layer(a6)			; Set layer
	
	moveq	#$F,d0						; Set hitbox size
	and.b	obj.subtype(a6),d0
	addq.b	#1,d0
	move.w	d0,bridge.log_count(a6)
	lsl.w	#3,d0
	move.w	d0,obj.collide_width(a6)
	move.w	#8,obj.collide_height(a6)

	addq.w	#8,d0						; Set draw size
	move.w	d0,obj.draw_width(a6)
	move.w	#16,obj.draw_height(a6)

	move.w	obj.y(a6),bridge.y(a6)				; Set base Y position

	move.l	#UpdateState,obj.update(a6)			; Set state
	move.l	#Draw,obj.draw(a6)				; Set draw routine

; ------------------------------------------------------------------------------
; Update state
; ------------------------------------------------------------------------------

UpdateState:
	movea.w	player_object,a1				; Player object
	
	cmpa.w	player.ride_object(a1),a6			; Is the player standing on us?
	bne.s	.NotStoodOn					; If not, branch

	move.w	obj.x(a1),d0					; Get bend center
	sub.w	obj.x(a6),d0
	add.w	obj.collide_width(a6),d0
	addq.w	#8,d0
	asr.w	#4,d0
	
	tst.b	d0						; Is it too small?
	bpl.s	.NotMin						; If not, branch
	moveq	#0,d0						; Cap at 0
	
.NotMin:
	move.w	bridge.log_count(a6),d1				; Is it too large?
	cmp.b	d1,d0
	bcs.s	.NotMax						; If not, branch
	subq.b	#1,d1						; Cap at log count
	move.b	d1,d0

.NotMax:
	move.b	d0,bridge.bend_center(a6)			; Set bend center
	
	cmpi.b	#$40,bridge.bend_angle(a6)			; Are we bended?
	beq.s	.AnimateEyes					; If so, branch
	addq.b	#4,bridge.bend_angle(a6)			; Bend down
	bra.s	.AnimateEyes
	
.NotStoodOn:
	moveq	#OBJ_TOP_SOLID,d0				; Make top solid
	bsr.w	SolidObject
	
	tst.b	bridge.bend_angle(a6)				; Are we flat?
	beq.s	.AnimateEyes					; If so, branch
	subq.b	#4,bridge.bend_angle(a6)			; Flatten up

.AnimateEyes:
	cmpi.b	#2,sonic_stage_id				; Are we in the Ben Drowned stage?
	bne.s	.Draw						; If not, branch

	lea	bridge.blink(a6),a0				; Blink frames
	moveq	#16-1,d7

.SetBlinkFrames:
	tst.b	(a0)						; Is this frame waiting?
	bmi.s	.WaitBlink					; If so, branch
	beq.s	.SetBlinkWait					; If it's not animating, branch

.AnimateBlink:
	addq.b	#1,(a0)						; Animate blink frame
	cmpi.b	#BlinkFramesEnd-BlinkFrames,(a0)		; Is it done?
	bcs.s	.NextBlinkFrame					; If not, branch

.SetBlinkWait:
	bsr.w	Random						; Set random wait time
	andi.b	#$7F,d0
	neg.b	d0
	move.b	d0,(a0)
	bra.s	.NextBlinkFrame

.WaitBlink:
	btst	#0,stage_frame_count+1				; Should we update the wait timer?
	beq.s	.NextBlinkFrame					; If not, branch

	addq.b	#1,(a0)						; Decrement timer
	bmi.s	.NextBlinkFrame					; If it hasn't run out, branch
	move.b	#1,(a0)						; Start animation

.NextBlinkFrame:
	addq.w	#1,a0						; Next blink frame
	dbf	d7,.SetBlinkFrames				; Loop until finished

.Draw:
	bsr.w	DrawObject					; Draw sprite
	bra.w	DespawnObject					; Handle despawn

; ------------------------------------------------------------------------------
; Draw sprite
; ------------------------------------------------------------------------------

Draw:
	lea	mars_sprite_chain,a0				; Sprite chain buffer
	lea	bridge.blink(a6),a1				; Blink frames
	lea	BlinkFrames(pc),a2

	move.w	bridge.log_count(a6),d0				; Set sprite count
	move.w	d0,(a0)+

	move.b	bridge.bend_angle(a6),d0			; Get bend strength
	bsr.w	CalcSine
	move.w	d0,d4

	move.w	obj.collide_width(a6),d0			; Get bend strength offset
	add.w	d0,d0
	moveq	#0,d3
	move.b	bridge.bend_center(a6),d3
	move.w	d3,d2
	add.w	d0,d3

	moveq	#0,d5						; Get bend strength
	lea	BendStrengths-$10,a5
	move.b	(a5,d3.w),d5
	
	lea	BendOffsets,a4					; Get bend offsets
	adda.w	(a4,d5.w),a4
	andi.w	#$F,d3
	lsl.w	#5,d3
	lea	(a4,d3.w),a3

	move.w	obj.x(a6),d5					; Get initial X position
	sub.w	obj.collide_width(a6),d5
	sub.w	camera_fg_x_draw,d5

	move.w	bridge.y(a6),d6					; Get Y position
	sub.w	camera_fg_y_draw,d6

.SetLeftSprites:
	moveq	#0,d0						; Get blink frame
	move.b	(a1)+,d1				
	bmi.s	.SetLeftFrame					; If it's invalid, branch
	move.b	d1,d0						; Use blink frame

.SetLeftFrame:
	move.b	(a2,d0.w),(a0)+					; Set sprite frame ID
	clr.b	(a0)+						; Set sprite flip flags
	move.w	d5,(a0)+					; Set sprite X position

	move.w	(a3)+,d0					; Set sprite Y position
	mulu.w	d4,d0
	swap	d0
	add.w	d6,d0
	move.w	d0,(a0)+

	addi.w	#16,d5						; Next log sprite
	dbf	d2,.SetLeftSprites				; Loop until finished

	moveq	#0,d3						; Get bend strength offset
	move.b	bridge.bend_center(a6),d3
	addq.b	#1,d3
	sub.b	bridge.log_count+1(a6),d3
	neg.b	d3
	bmi.s	.Draw
	move.w	d3,d2
	lsl.w	#5,d3
	lea	(a4,d3.w),a3
	adda.w	d2,a3
	adda.w	d2,a3
	
	subq.w	#1,d2						; Decrement for loop
	bmi.s	.Draw						; If there are no logs to bend, branch
	
.SetRightSprites:
	moveq	#0,d0						; Get blink frame
	move.b	(a1)+,d1				
	bmi.s	.SetRightFrame					; If it's invalid, branch
	move.b	d1,d0						; Use blink frame

.SetRightFrame:
	move.b	(a2,d0.w),(a0)+					; Set sprite frame ID
	clr.b	(a0)+						; Set sprite flip flags
	move.w	d5,(a0)+					; Set sprite X position

	move.w	-(a3),d0					; Set sprite Y position
	mulu.w	d4,d0
	swap	d0
	add.w	d6,d0
	move.w	d0,(a0)+

	addi.w	#16,d5						; Next log sprite
	dbf	d2,.SetRightSprites				; Loop until finished

.Draw:
	moveq	#0,d0						; Set Y position
	move.b	bridge.bend_center(a6),d0
	add.w	d0,d0
	move.w	d0,d1
	add.w	d0,d0
	add.w	d1,d0
	lea	mars_sprite_chain+6,a0
	move.w	(a0,d0.w),d0
	add.w	camera_fg_y_draw,d0
	move.w	d0,obj.y(a6)

	move.b	#4,-(sp)					; Draw sprites
	pea	mars_sprite_chain
	bsr.w	DrawLoadedMarsSpriteChain
	rts
	
; ------------------------------------------------------------------------------

BlinkFrames:
	dc.b	1
	dc.b	2, 2
	dc.b	3, 3
	dc.b	4, 4
	dc.b	5, 5, 5, 5, 5, 5, 5, 5
	dc.b	4, 4
	dc.b	3, 3
	dc.b	2, 2
BlinkFramesEnd:
	even

; ------------------------------------------------------------------------------
; Stump initialization state
; ------------------------------------------------------------------------------

ObjBridgeStump:
	SET_OBJECT_LAYER move.w,1,obj.layer(a6)			; Set layer

	move.w	#16,obj.draw_width(a6)				; Set draw size
	move.w	#8,obj.draw_height(a6)
	
	move.l	#StumpUpdateState,obj.update(a6)		; Set state
	move.l	#DrawStump,obj.draw(a6)				; Set draw routine

; ------------------------------------------------------------------------------
; Stump update state
; ------------------------------------------------------------------------------

StumpUpdateState:
	bsr.w	DrawObject					; Draw sprite
	bra.w	DespawnObject					; Handle despawn

; ------------------------------------------------------------------------------
; Draw stump sprite
; ------------------------------------------------------------------------------

DrawStump:
	move.b	#4,-(sp)					; Draw stump sprite
	clr.b	-(sp)
	move.b	obj.flags(a6),-(sp)
	move.w	obj.x(a6),d0
	sub.w	camera_fg_x_draw,d0
	move.w	d0,-(sp)
	move.w	obj.y(a6),d0
	sub.w	camera_fg_y_draw,d0
	move.w	d0,-(sp)
	move.w	#$100,-(sp)
	move.w	#$100,-(sp)
	bsr.w	DrawLoadedMarsSprite
	rts

; ------------------------------------------------------------------------------
; Bend data
; ------------------------------------------------------------------------------

	section m68k_rom_fixed_data
	
BendStrengths:
	dc.b	$02, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
	dc.b	$02, $02, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
	dc.b	$02, $04, $02, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
	dc.b	$02, $04, $04, $02, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
	dc.b	$02, $04, $06, $04, $02, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
	dc.b	$02, $04, $06, $06, $04, $02, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
	dc.b	$02, $04, $06, $08, $06, $04, $02, $00, $00, $00, $00, $00, $00, $00, $00, $00
	dc.b	$02, $04, $06, $08, $08, $06, $04, $02, $00, $00, $00, $00, $00, $00, $00, $00
	dc.b	$02, $04, $06, $08, $0A, $08, $06, $04, $02, $00, $00, $00, $00, $00, $00, $00
	dc.b	$02, $04, $06, $08, $0A, $0A, $08, $06, $04, $02, $00, $00, $00, $00, $00, $00
	dc.b	$02, $04, $06, $08, $0A, $0C, $0A, $08, $06, $04, $02, $00, $00, $00, $00, $00
	dc.b	$02, $04, $06, $08, $0A, $0C, $0C, $0A, $08, $06, $04, $02, $00, $00, $00, $00
	dc.b	$02, $04, $06, $08, $0A, $0C, $0E, $0C, $0A, $08, $06, $04, $02, $00, $00, $00
	dc.b	$02, $04, $06, $08, $0A, $0C, $0E, $0E, $0C, $0A, $08, $06, $04, $02, $00, $00
	dc.b	$02, $04, $06, $08, $0A, $0C, $0E, $10, $0E, $0C, $0A, $08, $06, $04, $02, $00
	dc.b	$02, $04, $06, $08, $0A, $0C, $0E, $10, $10, $0E, $0C, $0A, $08, $06, $04, $02

BendOffsets:
	dc.w	.BendOffsets0-BendOffsets
	dc.w	.BendOffsets2-BendOffsets
	dc.w	.BendOffsets4-BendOffsets
	dc.w	.BendOffsets6-BendOffsets
	dc.w	.BendOffsets8-BendOffsets
	dc.w	.BendOffsets10-BendOffsets
	dc.w	.BendOffsets12-BendOffsets
	dc.w	.BendOffsets14-BendOffsets
	dc.w	.BendOffsets16-BendOffsets

.BendOffsets0:
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000

.BendOffsets2:
	dc.w	$0200, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$016A, $0200, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$00FC, $01B6, $0200, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$00C2, $016A, $01D8, $0200, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0094, $0126, $019A, $01E6, $0200, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$007C, $00FC, $0160, $01B6, $01EC, $0200, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0070, $00DA, $013A, $018A, $01C8, $01F0, $0200, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0062, $00C2, $011C, $016A, $01A8, $01D8, $01F6, $0200, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0056, $00AC, $00FC, $0144, $0182, $01B6, $01DC, $01F6, $0200, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$004A, $0094, $00E6, $0126, $0160, $019A, $01C2, $01E6, $01F8, $0200, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$003E, $0088, $00CE, $0110, $014E, $017A, $01A8, $01CE, $01E8, $01FA, $0200, $0000, $0000, $0000, $0000, $0000
	dc.w	$003E, $007C, $00B8, $00FC, $0130, $0160, $0192, $01B6, $01D4, $01EC, $01FA, $0200, $0000, $0000, $0000, $0000
	dc.w	$0032, $0070, $00AC, $00E6, $011C, $014E, $017A, $01A2, $01C2, $01DC, $01F0, $01FC, $0200, $0000, $0000, $0000
	dc.w	$0032, $0070, $00A0, $00DA, $0106, $013A, $0160, $018A, $01B0, $01C8, $01E2, $01F0, $01FC, $0200, $0000, $0000
	dc.w	$0032, $0062, $0094, $00CE, $00FC, $0126, $014E, $017A, $019A, $01B6, $01CE, $01E6, $01F2, $01FC, $0200, $0000
	dc.w	$0032, $0062, $0094, $00C2, $00F0, $011C, $0144, $016A, $018A, $01A8, $01C2, $01D8, $01E8, $01F6, $01FC, $0200

.BendOffsets4:
	dc.w	$0400, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$02D4, $0400, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$01F8, $036C, $0400, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0184, $02D4, $03B0, $0400, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0128, $024C, $0334, $03CC, $0400, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$00F8, $01F8, $02C0, $036C, $03D8, $0400, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$00E0, $01B4, $0274, $0314, $0390, $03E0, $0400, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$00C4, $0184, $0238, $02D4, $0350, $03B0, $03EC, $0400, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$00AC, $0158, $01F8, $0288, $0304, $036C, $03B8, $03EC, $0400, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0094, $0128, $01CC, $024C, $02C0, $0334, $0384, $03CC, $03F0, $0400, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$007C, $0110, $019C, $0220, $029C, $02F4, $0350, $039C, $03D0, $03F4, $0400, $0000, $0000, $0000, $0000, $0000
	dc.w	$007C, $00F8, $0170, $01F8, $0260, $02C0, $0324, $036C, $03A8, $03D8, $03F4, $0400, $0000, $0000, $0000, $0000
	dc.w	$0064, $00E0, $0158, $01CC, $0238, $029C, $02F4, $0344, $0384, $03B8, $03E0, $03F8, $0400, $0000, $0000, $0000
	dc.w	$0064, $00E0, $0140, $01B4, $020C, $0274, $02C0, $0314, $0360, $0390, $03C4, $03E0, $03F8, $0400, $0000, $0000
	dc.w	$0064, $00C4, $0128, $019C, $01F8, $024C, $029C, $02F4, $0334, $036C, $039C, $03CC, $03E4, $03F8, $0400, $0000
	dc.w	$0064, $00C4, $0128, $0184, $01E0, $0238, $0288, $02D4, $0314, $0350, $0384, $03B0, $03D0, $03EC, $03F8, $0400

.BendOffsets6:
	dc.w	$0600, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$043E, $0600, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$02F4, $0522, $0600, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0246, $043E, $0588, $0600, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$01BC, $0372, $04CE, $05B2, $0600, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0174, $02F4, $0420, $0522, $05C4, $0600, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0150, $028E, $03AE, $049E, $0558, $05D0, $0600, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0126, $0246, $0354, $043E, $04F8, $0588, $05E2, $0600, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0102, $0204, $02F4, $03CC, $0486, $0522, $0594, $05E2, $0600, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$00DE, $01BC, $02B2, $0372, $0420, $04CE, $0546, $05B2, $05E8, $0600, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$00BA, $0198, $026A, $0330, $03EA, $046E, $04F8, $056A, $05B8, $05EE, $0600, $0000, $0000, $0000, $0000, $0000
	dc.w	$00BA, $0174, $0228, $02F4, $0390, $0420, $04B6, $0522, $057C, $05C4, $05EE, $0600, $0000, $0000, $0000, $0000
	dc.w	$0096, $0150, $0204, $02B2, $0354, $03EA, $046E, $04E6, $0546, $0594, $05D0, $05F4, $0600, $0000, $0000, $0000
	dc.w	$0096, $0150, $01E0, $028E, $0312, $03AE, $0420, $049E, $0510, $0558, $05A6, $05D0, $05F4, $0600, $0000, $0000
	dc.w	$0096, $0126, $01BC, $026A, $02F4, $0372, $03EA, $046E, $04CE, $0522, $056A, $05B2, $05D6, $05F4, $0600, $0000
	dc.w	$0096, $0126, $01BC, $0246, $02D0, $0354, $03CC, $043E, $049E, $04F8, $0546, $0588, $05B8, $05E2, $05F4, $0600

.BendOffsets8:
	dc.w	$0800, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$05A8, $0800, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$03F0, $06D8, $0800, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0308, $05A8, $0760, $0800, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0250, $0498, $0668, $0798, $0800, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$01F0, $03F0, $0580, $06D8, $07B0, $0800, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$01C0, $0368, $04E8, $0628, $0720, $07C0, $0800, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0188, $0308, $0470, $05A8, $06A0, $0760, $07D8, $0800, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0158, $02B0, $03F0, $0510, $0608, $06D8, $0770, $07D8, $0800, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0128, $0250, $0398, $0498, $0580, $0668, $0708, $0798, $07E0, $0800, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$00F8, $0220, $0338, $0440, $0538, $05E8, $06A0, $0738, $07A0, $07E8, $0800, $0000, $0000, $0000, $0000, $0000
	dc.w	$00F8, $01F0, $02E0, $03F0, $04C0, $0580, $0648, $06D8, $0750, $07B0, $07E8, $0800, $0000, $0000, $0000, $0000
	dc.w	$00C8, $01C0, $02B0, $0398, $0470, $0538, $05E8, $0688, $0708, $0770, $07C0, $07F0, $0800, $0000, $0000, $0000
	dc.w	$00C8, $01C0, $0280, $0368, $0418, $04E8, $0580, $0628, $06C0, $0720, $0788, $07C0, $07F0, $0800, $0000, $0000
	dc.w	$00C8, $0188, $0250, $0338, $03F0, $0498, $0538, $05E8, $0668, $06D8, $0738, $0798, $07C8, $07F0, $0800, $0000
	dc.w	$00C8, $0188, $0250, $0308, $03C0, $0470, $0510, $05A8, $0628, $06A0, $0708, $0760, $07A0, $07D8, $07F0, $0800

.BendOffsets10:
	dc.w	$0A00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0712, $0A00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$04EC, $088E, $0A00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$03CA, $0712, $0938, $0A00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$02E4, $05BE, $0802, $097E, $0A00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$026C, $04EC, $06E0, $088E, $099C, $0A00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0230, $0442, $0622, $07B2, $08E8, $09B0, $0A00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$01EA, $03CA, $058C, $0712, $0848, $0938, $09CE, $0A00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$01AE, $035C, $04EC, $0654, $078A, $088E, $094C, $09CE, $0A00, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0172, $02E4, $047E, $05BE, $06E0, $0802, $08CA, $097E, $09D8, $0A00, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0136, $02A8, $0406, $0550, $0686, $0762, $0848, $0906, $0988, $09E2, $0A00, $0000, $0000, $0000, $0000, $0000
	dc.w	$0136, $026C, $0398, $04EC, $05F0, $06E0, $07DA, $088E, $0924, $099C, $09E2, $0A00, $0000, $0000, $0000, $0000
	dc.w	$00FA, $0230, $035C, $047E, $058C, $0686, $0762, $082A, $08CA, $094C, $09B0, $09EC, $0A00, $0000, $0000, $0000
	dc.w	$00FA, $0230, $0320, $0442, $051E, $0622, $06E0, $07B2, $0870, $08E8, $096A, $09B0, $09EC, $0A00, $0000, $0000
	dc.w	$00FA, $01EA, $02E4, $0406, $04EC, $05BE, $0686, $0762, $0802, $088E, $0906, $097E, $09BA, $09EC, $0A00, $0000
	dc.w	$00FA, $01EA, $02E4, $03CA, $04B0, $058C, $0654, $0712, $07B2, $0848, $08CA, $0938, $0988, $09CE, $09EC, $0A00

.BendOffsets12:
	dc.w	$0C00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$087C, $0C00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$05E8, $0A44, $0C00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$048C, $087C, $0B10, $0C00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0378, $06E4, $099C, $0B64, $0C00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$02E8, $05E8, $0840, $0A44, $0B88, $0C00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$02A0, $051C, $075C, $093C, $0AB0, $0BA0, $0C00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$024C, $048C, $06A8, $087C, $09F0, $0B10, $0BC4, $0C00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0204, $0408, $05E8, $0798, $090C, $0A44, $0B28, $0BC4, $0C00, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$01BC, $0378, $0564, $06E4, $0840, $099C, $0A8C, $0B64, $0BD0, $0C00, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0174, $0330, $04D4, $0660, $07D4, $08DC, $09F0, $0AD4, $0B70, $0BDC, $0C00, $0000, $0000, $0000, $0000, $0000
	dc.w	$0174, $02E8, $0450, $05E8, $0720, $0840, $096C, $0A44, $0AF8, $0B88, $0BDC, $0C00, $0000, $0000, $0000, $0000
	dc.w	$012C, $02A0, $0408, $0564, $06A8, $07D4, $08DC, $09CC, $0A8C, $0B28, $0BA0, $0BE8, $0C00, $0000, $0000, $0000
	dc.w	$012C, $02A0, $03C0, $051C, $0624, $075C, $0840, $093C, $0A20, $0AB0, $0B4C, $0BA0, $0BE8, $0C00, $0000, $0000
	dc.w	$012C, $024C, $0378, $04D4, $05E8, $06E4, $07D4, $08DC, $099C, $0A44, $0AD4, $0B64, $0BAC, $0BE8, $0C00, $0000
	dc.w	$012C, $024C, $0378, $048C, $05A0, $06A8, $0798, $087C, $093C, $09F0, $0A8C, $0B10, $0B70, $0BC4, $0BE8, $0C00

.BendOffsets14:
	dc.w	$0E00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$09E6, $0E00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$06E4, $0BFA, $0E00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$054E, $09E6, $0CE8, $0E00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$040C, $080A, $0B36, $0D4A, $0E00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0364, $06E4, $09A0, $0BFA, $0D74, $0E00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0310, $05F6, $0896, $0AC6, $0C78, $0D90, $0E00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$02AE, $054E, $07C4, $09E6, $0B98, $0CE8, $0DBA, $0E00, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$025A, $04B4, $06E4, $08DC, $0A8E, $0BFA, $0D04, $0DBA, $0E00, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0206, $040C, $064A, $080A, $09A0, $0B36, $0C4E, $0D4A, $0DC8, $0E00, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$01B2, $03B8, $05A2, $0770, $0922, $0A56, $0B98, $0CA2, $0D58, $0DD6, $0E00, $0000, $0000, $0000, $0000, $0000
	dc.w	$01B2, $0364, $0508, $06E4, $0850, $09A0, $0AFE, $0BFA, $0CCC, $0D74, $0DD6, $0E00, $0000, $0000, $0000, $0000
	dc.w	$015E, $0310, $04B4, $064A, $07C4, $0922, $0A56, $0B6E, $0C4E, $0D04, $0D90, $0DE4, $0E00, $0000, $0000, $0000
	dc.w	$015E, $0310, $0460, $05F6, $072A, $0896, $09A0, $0AC6, $0BD0, $0C78, $0D2E, $0D90, $0DE4, $0E00, $0000, $0000
	dc.w	$015E, $02AE, $040C, $05A2, $06E4, $080A, $0922, $0A56, $0B36, $0BFA, $0CA2, $0D4A, $0D9E, $0DE4, $0E00, $0000
	dc.w	$015E, $02AE, $040C, $054E, $0690, $07C4, $08DC, $09E6, $0AC6, $0B98, $0C4E, $0CE8, $0D58, $0DBA, $0DE4, $0E00

.BendOffsets16:
	dc.w	$1000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0B50, $1000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$07E0, $0DB0, $1000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0610, $0B50, $0EC0, $1000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$04A0, $0930, $0CD0, $0F30, $1000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$03E0, $07E0, $0B00, $0DB0, $0F60, $1000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0380, $06D0, $09D0, $0C50, $0E40, $0F80, $1000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0310, $0610, $08E0, $0B50, $0D40, $0EC0, $0FB0, $1000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$02B0, $0560, $07E0, $0A20, $0C10, $0DB0, $0EE0, $0FB0, $1000, $0000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$0250, $04A0, $0730, $0930, $0B00, $0CD0, $0E10, $0F30, $0FC0, $1000, $0000, $0000, $0000, $0000, $0000, $0000
	dc.w	$01F0, $0440, $0670, $0880, $0A70, $0BD0, $0D40, $0E70, $0F40, $0FD0, $1000, $0000, $0000, $0000, $0000, $0000
	dc.w	$01F0, $03E0, $05C0, $07E0, $0980, $0B00, $0C90, $0DB0, $0EA0, $0F60, $0FD0, $1000, $0000, $0000, $0000, $0000
	dc.w	$0190, $0380, $0560, $0730, $08E0, $0A70, $0BD0, $0D10, $0E10, $0EE0, $0F80, $0FE0, $1000, $0000, $0000, $0000
	dc.w	$0190, $0380, $0500, $06D0, $0830, $09D0, $0B00, $0C50, $0D80, $0E40, $0F10, $0F80, $0FE0, $1000, $0000, $0000
	dc.w	$0190, $0310, $04A0, $0670, $07E0, $0930, $0A70, $0BD0, $0CD0, $0DB0, $0E70, $0F30, $0F90, $0FE0, $1000, $0000
	dc.w	$0190, $0310, $04A0, $0610, $0780, $08E0, $0A20, $0B50, $0C50, $0D40, $0E10, $0EC0, $0F40, $0FB0, $0FE0, $1000

; ------------------------------------------------------------------------------
